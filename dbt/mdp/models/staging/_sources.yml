version: 2

sources:
  - name: raw_google_ads
    description: Raw Google Ads data ingested from API
    database: "{{ var('gcp_project') }}"
    schema: "{{ var('raw_dataset') }}"
    tables:
      - name: raw_google_ads__campaign_daily
        description: Daily campaign-level performance metrics from Google Ads
        columns:
          - name: date
            description: Date of performance metrics
            tests:
              - not_null
          - name: campaign_id
            description: Unique campaign identifier
            tests:
              - not_null
          - name: account_id
            description: Account identifier
          - name: campaign_name
            description: Campaign name
          - name: impressions
            description: Number of impressions
          - name: clicks
            description: Number of clicks
          - name: spend
            description: Amount spent
          - name: conversions
            description: Number of conversions
          - name: ingested_at
            description: Timestamp of ingestion
          - name: extract_run_id
            description: Run ID from extraction process

  - name: raw_meta_ads
    description: Raw Meta Ads (Facebook/Instagram) data ingested from API
    database: "{{ var('gcp_project') }}"
    schema: "{{ var('raw_dataset') }}"
    tables:
      - name: raw_meta_ads__campaign_daily
        description: Daily campaign-level performance metrics from Meta Ads
        columns:
          - name: date
            description: Date of performance metrics
            tests:
              - not_null
          - name: campaign_id
            description: Unique campaign identifier
            tests:
              - not_null
          - name: account_id
            description: Account identifier
          - name: campaign_name
            description: Campaign name
          - name: impressions
            description: Number of impressions
          - name: clicks
            description: Number of clicks
          - name: spend
            description: Amount spent
          - name: conversions
            description: Number of conversions
          - name: ingested_at
            description: Timestamp of ingestion
          - name: extract_run_id
            description: Run ID from extraction process
